<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales - StarForge</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Inter:wght@600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/admin/sales.css">
</head>

<body>
    <%- include('../partials/admin/navbar') %>

        <%- include('../partials/admin/sidepanel', { active:'sales' }) %>

            <div class="main-content" id="main-content">
                <div class="sales-section">
                    <h2>Sales</h2>
                    <table class="sales-table">
                        <thead>
                            <tr>
                                <th>Sale ID</th>
                                <th>Date</th>
                                <th>Customer</th>
                                <th>Amount</th>
                                <th>Payment Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% sales.forEach(sale => { %>
            <tr>
              <td><%= sale.id %></td>
              <td><%= sale.date %></td>
              <td><%= sale.customer %></td>
              <td><%= sale.amount %></td>
              <td><%= sale.status %></td>
            </tr>
          <% }) %>
          <% if (sales.length === 0) { %>
            <tr>
              <td colspan="5">No sales found</td>
            </tr>
          <% } %>
                        </tbody>
                    </table>
                    <% if (totalPages > 1) { %>
        <div class="pagination" style="margin-top: 20px; text-align: center;">
          <% if (currentPage > 1) { %>
            <a href="?page=<%= currentPage - 1 %>&search=<%= search %>&status=<%= status %>&sort=<%= sort %>" style="margin: 0 5px;">Previous</a>
          <% } %>
          <% for (let i = 1; i <= totalPages; i++) { %>
            <a href="?page=<%= i %>&search=<%= search %>&status=<%= status %>&sort=<%= sort %>" style="margin: 0 5px; <%= currentPage === i ? 'font-weight: bold;' : '' %>"><%= i %></a>
          <% } %>
          <% if (currentPage < totalPages) { %>
            <a href="?page=<%= currentPage + 1 %>&search=<%= search %>&status=<%= status %>&sort=<%= sort %>" style="margin: 0 5px;">Next</a>
          <% } %>
        </div>
      <% } %>
                </div>
            </div>

            <%- include('../partials/admin/footer') %>

            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                <script src="/js/admin/sales.js"></script>
</body>

</html>