<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard-StarForge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/css/admin/common.css">
    <link rel="stylesheet" href="/css/admin/dashboard.css">
</head>

<body>
    <%- include('../partials/admin/navbar') %>
    <%- include('../partials/admin/sidepanel', { active:'dashboard' }) %>
    <div class="sidebar-backdrop" id="sidebarBackdrop" aria-hidden="true"></div>

            <div class="main-content" id="main-content">


                <div class="chart-section">
                    <div class="chart-container">
                        <div style="display:flex; align-items:center; justify-content: space-between; gap: 12px;">
                            <h2>Sales Overview</h2>
                            <div class="filters" style="display:flex; gap:8px; align-items:center;">
                                <select id="rangeFilter">
                                    <option value="month" selected>Monthly</option>
                                    <option value="year">Yearly</option>
                                    <option value="week">Weekly</option>
                                    <option value="day">Daily</option>
                                    <option value="custom">Custom</option>
                                </select>
                                <input type="number" id="yearInput" placeholder="Year" style="width:100px; display:none;"/>
                                <input type="number" id="monthInput" min="1" max="12" placeholder="Month" style="width:90px; display:none;"/>
                                <input type="date" id="startDate" style="display:none;"/>
                                <input type="date" id="endDate" style="display:none;"/>
                                <button id="applyFilterBtn" class="btn" style="padding:6px 10px;">Apply</button>
                            </div>
                        </div>
                        <div class="chart">
                            <canvas id="salesChart" height="120"></canvas>
                        </div>

                        <div class="secondary-charts">
                        <div class="chart secondary-chart">
                            <canvas id="aovChart"></canvas>
                        </div>

                        <div class="chart secondary-chart">
                            <canvas id="paymentSplitChart"></canvas>
                        </div>
                        </div>
                    </div>
                </div>

                <div class="toplists" style="margin-top:16px;">

                    <div class="top-card">
                        <h3>Best Selling Products</h3>
                        <div class="table-responsive">
                            <table class="table" id="topProductsTable">
                                <thead>
                                    <tr><th>#</th><th>Product</th><th>Qty Sold</th><th>Revenue</th></tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="top-card">
                        <h3>Best Selling Categories</h3>
                        <div class="table-responsive">
                            <table class="table" id="topCategoriesTable">
                                <thead>
                                    <tr><th>#</th><th>Category</th><th>Qty Sold</th><th>Revenue</th></tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="top-card">
                        <h3>Best Selling Brands</h3>
                        <div class="table-responsive">
                            <table class="table" id="topBrandsTable">
                                <thead>
                                    <tr><th>#</th><th>Brand</th><th>Qty Sold</th><th>Revenue</th></tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        <%- include('../partials/admin/footer') %>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="/js/admin/common.js"></script>
    <script src="/js/admin/dashboard.js"></script>

</body>

</html>